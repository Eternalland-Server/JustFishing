match: hud

Functions:
  open: |-
    var.frame = 1;
    var.screenID = 'fish';
    func.Function_Async_Execute('fishing');
    func.Function_Async_Execute('progress');
  fishing: |-
    var.frame = var.frame + 1;
    var.path = func.String_Concat('hud/fish/', func.String_ToInt(var.frame), '.png');
    func.Component_Set('fishing', 'texture', var.path);
    (var.frame >= 3) ? { var.frame = 0 } : {};
    func.delay(800);
    func.Function_Async_Execute('fishing');
  progress: |-
    var.start = func.Time_Current;
    func.Component_Set('goal', 'width', '74*(func.Time_Current-var.start)/12000');
    func.Component_Set('pointer', 'x', 'track.x+74*(func.Time_Current-var.start)/12000');
    func.delay(12000);
    func.Component_Set('goal', 'width', '74');
    func.Component_Set('pointer', 'x', 'track.x+74');
    func.Packet_Send('UIFCompSubmitEvent', var.screenID, 'result', '2');

body:
  type: texture
  texture: 0,0,0,0
  x: (w-body.width)/2
  y: h-160
  width: 240
  height: 320

fishing:
  type: texture
  texture: hud/fish/1.png
  x: body.x+(body.width-fishing.width)/2
  y: background.y-20
  width: 45.5
  height: 13
  visible: icon.visible == 0

icon:
  type: texture
  texture: 0,0,0,0
  x: body.x+(body.width-icon.width)/2
  y: background.y-26
  width: 24
  height: 24
  visible: 0

background:
  type: texture
  texture: hud/fish/track.png
  x: body.x+(body.width-background.width)/2
  y: body.y
  width: 100
  height: 16

auto:
  type: texture
  texture: hud/fish/0.png
  x: background.x+42
  y: background.y+18
  width: 16
  height: 8

track:
  type: texture
  texture: 0,0,0,0
  x: background.x+11
  y: background.y+4
  width: 79
  height: 8

goal:
  type: texture
  texture: hud/fish/target.png
  x: track.x
  y: track.y
  width: 0
  height: 8

pointer:
  type: texture
  texture: hud/fish/pointer.png
  x: track.x
  y: track.y-3
  width: 5
  height: 14